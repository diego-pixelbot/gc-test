name: CI/CD Workflow

on:
  push:
    branches:
      - main
jobs:
  check:
    name: Check files
    outputs:
      run_job: ${{ steps.check_files.outputs.run_job }}
    runs-on: ubuntu-latest
    steps:
    
    - name: Checkout code
      uses: actions/checkout@v3
      with:
        fetch-depth: 2

    - name: check modified files
      uses: Stockopedia/action-get-changed-files@v1
      id: get_changed
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
        # ignore: "**/*.js" # glob
        foldersOnly: true # to only include folders in the output
        format: json # either json, csv or newline
    - name: Echo
      run: echo ${{ steps.get_changed.outputs.changed }}
